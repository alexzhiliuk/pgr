<div class="breadcrumbs container container_full">
    <a href="#" class="breadcrumbs__item">Главная</a>
    <div class="breadcrumbs__arrow">
        <img src="@img/breadcrumbs-arrow.svg" alt="">
    </div>
    <div class="breadcrumbs__item breadcrumbs__dots" hidden>
        ...
    </div>
    <a href="#" class="breadcrumbs__item">Инвестиции</a>
    <div class="breadcrumbs__arrow">
        <img src="@img/breadcrumbs-arrow.svg" alt="">
    </div>
    <a href="#" class="breadcrumbs__item">Витрина закладных</a>
    <div class="breadcrumbs__arrow">
        <img src="@img/breadcrumbs-arrow.svg" alt="">
    </div>
    <a href="#" class="breadcrumbs__item">Банковская закладная</a>
</div>
<script>
    let hiddenElements = 0
    $(window).on("resize", function() {
        let width = $(".breadcrumbs").outerWidth()
        
        if (Math.round(width + 24) == window.outerWidth && $(".breadcrumbs__item:not(.breadcrumbs__dots)").length > hiddenElements + 2) {
            let hiddenElementIndex = 2 + hiddenElements
            console.log(hiddenElementIndex, hiddenElements)
            $(`.breadcrumbs__item:not(.breadcrumbs__dots):nth-of-type(${hiddenElementIndex})`).attr("hidden", "hidden")
            if (hiddenElements != 0) { 
                console.log(`hide arrow ${hiddenElements + 2}`)
                $(`.breadcrumbs__arrow:nth-of-type(${hiddenElements + 2})`).attr("hidden", "hidden") 
            }
            $(`.breadcrumbs__dots`).removeAttr("hidden")

            hiddenElements++
        }
        
    })
</script>